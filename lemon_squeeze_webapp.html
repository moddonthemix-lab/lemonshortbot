<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üçã Lemon Squeeze Web App v2.0</title>
    <style>
        :root {
            --bg-gradient-start: #FFD700;
            --bg-gradient-end: #FFA500;
            --container-bg: #FFF9E6;
            --text-primary: #333;
            --text-secondary: #666;
            --card-bg: white;
            --border-color: #FFD700;
            --settings-bg: #FFE97F;
            --shadow: rgba(0,0,0,0.1);
            --shadow-heavy: rgba(0,0,0,0.3);
        }
        
        [data-theme="dark"] {
            --bg-gradient-start: #1a1a2e;
            --bg-gradient-end: #16213e;
            --container-bg: #0f3460;
            --text-primary: #eee;
            --text-secondary: #ccc;
            --card-bg: #1a1a2e;
            --border-color: #FFA500;
            --settings-bg: #16213e;
            --shadow: rgba(0,0,0,0.3);
            --shadow-heavy: rgba(0,0,0,0.5);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1300px;
            margin: 0 auto;
            background: var(--container-bg);
            border-radius: 20px;
            box-shadow: 0 20px 60px var(--shadow-heavy);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
            color: var(--text-primary);
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.3em;
            opacity: 0.9;
        }
        
        .toolbar {
            background: var(--card-bg);
            padding: 15px 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            box-shadow: 0 2px 10px var(--shadow);
            border-bottom: 2px solid var(--border-color);
        }
        
        .dark-mode-toggle, .favorites-toggle {
            background: var(--settings-bg);
            border: 2px solid var(--border-color);
            border-radius: 50px;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 1em;
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-primary);
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .favorites-toggle {
            background: linear-gradient(135deg, #FFA500 0%, #FF8C00 100%);
            color: white;
            border: none;
        }
        
        .dark-mode-toggle:hover, .favorites-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px var(--shadow);
        }
        
        .tabs {
            display: flex;
            background: var(--settings-bg);
            overflow-x: auto;
        }
        
        .tab-button {
            flex: 1;
            max-width: 180px;
            padding: 18px 15px;
            background: transparent;
            border: none;
            font-size: 1.05em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            color: var(--text-secondary);
            border-bottom: 4px solid transparent;
        }
        
        .tab-button:hover {
            background: var(--card-bg);
            opacity: 0.8;
        }
        
        .tab-button.active {
            background: var(--container-bg);
            color: #FFA500;
            border-bottom: 4px solid #FFA500;
        }
        
        .tab-content {
            display: none;
            padding: 40px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .refresh-timer {
            background: var(--card-bg);
            padding: 15px 25px;
            border-radius: 50px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            margin: 20px 0;
            box-shadow: 0 4px 15px var(--shadow);
            font-weight: bold;
            color: var(--text-primary);
        }
        
        .timer-icon {
            font-size: 1.5em;
            animation: pulse-timer 2s ease-in-out infinite;
        }
        
        @keyframes pulse-timer {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .progress-bar {
            width: 150px;
            height: 6px;
            background: var(--settings-bg);
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #059669);
            transition: width 0.3s ease;
        }
        
        .volume-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 5px 20px var(--shadow);
            transition: all 0.3s;
            position: relative;
        }
        
        .volume-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px var(--shadow-heavy);
        }
        
        .volume-spike-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            animation: glow 2s ease-in-out infinite;
        }
        
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 10px rgba(239, 68, 68, 0.5); }
            50% { box-shadow: 0 0 20px rgba(239, 68, 68, 0.8); }
        }
        
        .news-section {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            color: white;
        }
        
        .news-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            font-weight: bold;
            font-size: 1.1em;
        }
        
        .news-content {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 8px;
        }
        
        .news-title {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 8px;
        }
        
        .news-snippet {
            font-size: 0.95em;
            opacity: 0.9;
            margin-bottom: 10px;
        }
        
        .news-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85em;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .news-link {
            color: white;
            text-decoration: none;
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            transition: all 0.3s;
        }
        
        .news-link:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateX(5px);
        }
        
        .settings-panel {
            background: var(--card-bg);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px var(--shadow);
            color: var(--text-primary);
        }
        
        .settings-panel h2 {
            color: #FFA500;
            margin-bottom: 20px;
            font-size: 1.5em;
        }
        
        .scan-button {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #333;
            border: none;
            padding: 25px 60px;
            font-size: 28px;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 8px 25px rgba(255, 165, 0, 0.4);
            text-transform: uppercase;
        }
        
        .scan-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(255, 165, 0, 0.6);
        }
        
        .scan-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }
        
        .loading.active {
            display: block;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #FFD700;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .results {
            display: none;
        }
        
        .results.active {
            display: block;
        }
        
        .results-header {
            background: var(--card-bg);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: 0 4px 15px var(--shadow);
            text-align: center;
        }
        
        .results-header h2 {
            color: #FFA500;
            font-size: 2em;
            margin-bottom: 15px;
        }
        
        .summary-stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #FFA500;
        }
        
        .stat-label {
            font-size: 1em;
            color: var(--text-secondary);
            margin-top: 5px;
        }
        
        .favorite-btn {
            background: transparent;
            border: 3px solid #FFA500;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            cursor: pointer;
            font-size: 1.6em;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        
        .favorite-btn:hover {
            background: #FFA500;
            transform: scale(1.15) rotate(15deg);
        }
        
        .stock-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            gap: 15px;
        }
        
        .stock-title-row {
            display: flex;
            align-items: center;
            gap: 15px;
            flex: 1;
        }
        
        .stock-ticker {
            font-size: 2em;
            font-weight: bold;
            color: var(--text-primary);
        }
        
        .stock-company {
            font-size: 1.2em;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .metric-section {
            background: var(--settings-bg);
            padding: 15px;
            border-radius: 10px;
        }
        
        .metric-section h4 {
            color: #FFA500;
            margin-bottom: 12px;
        }
        
        .metric-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 165, 0, 0.2);
        }
        
        .metric-item:last-child {
            border-bottom: none;
        }
        
        .metric-label {
            color: var(--text-secondary);
            font-weight: 600;
        }
        
        .metric-value {
            color: var(--text-primary);
            font-weight: bold;
        }
        
        /* Pattern info boxes - light in light mode, dark in dark mode */
        .pattern-info-box {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: 0 4px 15px var(--shadow);
        }
        
        [data-theme="dark"] .pattern-info-box {
            background: linear-gradient(135deg, #2d3748, #1a202c);
        }
        
        .pattern-info-box h2 {
            color: #FFA500;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .pattern-inner-box {
            background: #FFF4CC;
            padding: 25px;
            border-radius: 10px;
            color: #333;
        }
        
        [data-theme="dark"] .pattern-inner-box {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            color: white;
        }
        
        .pattern-inner-box ul {
            list-style: none;
            padding: 0;
            margin: 0;
            line-height: 2.2;
        }
        
        .pattern-inner-box li {
            margin-bottom: 15px;
        }
        
        .pattern-tip-box {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            color: #666;
            font-style: italic;
        }
        
        [data-theme="dark"] .pattern-tip-box {
            background: rgba(255, 255, 255, 0.9);
            color: #666;
        }
        
        .pattern-tip-box p {
            margin: 0;
        }
        
        @media (max-width: 768px) {
            .header h1 { font-size: 2em; }
            .tabs { flex-direction: column; }
            .metrics-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body data-theme="light">
    <div class="container">
        <div class="header">
            <h1>üçã Lemon Squeeze</h1>
            <p>Multi-Timeframe Pattern Scanner + Live Volume Detection</p>
        </div>
        
        <div class="toolbar">
            <button class="favorites-toggle" onclick="alert('Favorites')">
                <span>‚≠ê</span>
                <span>Favorites</span>
                <span style="background: white; color: #FFA500; border-radius: 50%; width: 24px; height: 24px; display: inline-flex; align-items: center; justify-content: center; font-size: 0.85em;">0</span>
            </button>
            <button class="dark-mode-toggle" onclick="toggleDarkMode()">
                <span class="theme-icon">üåô</span>
                <span class="theme-text">Dark Mode</span>
            </button>
        </div>
        
        <div class="tabs">
            <button class="tab-button active" data-tab="squeeze">üçã Squeeze</button>
            <button class="tab-button" data-tab="daily">üìÖ Daily</button>
            <button class="tab-button" data-tab="weekly">üìä Weekly</button>
            <button class="tab-button" data-tab="hourly">‚è∞ Hourly</button>
            <button class="tab-button" data-tab="volemon">üìä Volemon</button>
            <button class="tab-button" data-tab="crypto">‚Çø Crypto</button>
        </div>
        
        <!-- Squeeze Tab -->
        <div id="squeeze" class="tab-content active">
            <div class="settings-panel">
                <h2>‚öôÔ∏è Scan Settings</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; margin-bottom: 20px;">
                    <div>
                        <label style="font-weight: 600; color: var(--text-primary); margin-bottom: 8px; display: block;">Min Short Interest %</label>
                        <input type="number" value="25" style="padding: 12px; border: 3px solid var(--border-color); border-radius: 10px; font-size: 18px; font-weight: bold; text-align: center; width: 100%; background: var(--card-bg); color: var(--text-primary);">
                    </div>
                    <div>
                        <label style="font-weight: 600; color: var(--text-primary); margin-bottom: 8px; display: block;">Min Daily Gain %</label>
                        <input type="number" value="15" style="padding: 12px; border: 3px solid var(--border-color); border-radius: 10px; font-size: 18px; font-weight: bold; text-align: center; width: 100%; background: var(--card-bg); color: var(--text-primary);">
                    </div>
                    <div>
                        <label style="font-weight: 600; color: var(--text-primary); margin-bottom: 8px; display: block;">Min Volume Ratio</label>
                        <input type="number" value="1.5" step="0.1" style="padding: 12px; border: 3px solid var(--border-color); border-radius: 10px; font-size: 18px; font-weight: bold; text-align: center; width: 100%; background: var(--card-bg); color: var(--text-primary);">
                    </div>
                    <div>
                        <label style="font-weight: 600; color: var(--text-primary); margin-bottom: 8px; display: block;">Min Risk Score</label>
                        <input type="number" value="60" style="padding: 12px; border: 3px solid var(--border-color); border-radius: 10px; font-size: 18px; font-weight: bold; text-align: center; width: 100%; background: var(--card-bg); color: var(--text-primary);">
                    </div>
                </div>
            </div>
            
            <div style="text-align: center;">
                <button class="scan-button">üîç SCAN FOR SQUEEZES üöÄ</button>
            </div>
            
            <div style="background: linear-gradient(135deg, #ff6b9d, #ff4d7d); color: white; padding: 20px; border-radius: 15px; margin-top: 30px;">
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                    <span style="font-size: 1.5em;">‚ö†Ô∏è</span>
                    <strong style="font-size: 1.2em;">IMPORTANT DISCLAIMER</strong>
                </div>
                <p style="line-height: 1.6; opacity: 0.95; margin: 0;">
                    This tool is for informational and educational purposes only. Short squeezes are extremely high-risk and volatile. 
                    Past performance does not guarantee future results. Always conduct your own research (DYOR) and never invest more 
                    than you can afford to lose. This is NOT financial advice!
                </p>
            </div>
        </div>
        
        <!-- Daily Tab -->
        <div id="daily" class="tab-content">
            <div style="background: linear-gradient(135deg, #2d3748, #1a202c); padding: 30px; border-radius: 15px; margin-bottom: 25px; box-shadow: 0 4px 15px var(--shadow);">
                <h2 style="color: #FFA500; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    üìä The 3-1 Strat Pattern
                </h2>
                <div style="background: rgba(255, 255, 255, 0.1); padding: 25px; border-radius: 10px; backdrop-filter: blur(10px); color: white;">
                    <ul style="list-style: none; padding: 0; margin: 0; line-height: 2.2;">
                        <li style="margin-bottom: 15px;">‚Ä¢ <strong>"3" = Outside Bar:</strong> Higher high + lower low than previous candle (expansion)</li>
                        <li style="margin-bottom: 15px;">‚Ä¢ <strong>"1" = Inside Bar:</strong> Lower high + higher low than previous candle (consolidation)</li>
                        <li style="margin-bottom: 15px;">‚Ä¢ <strong>Setup:</strong> When a "1" follows a "3", it signals consolidation before a potential breakout</li>
                    </ul>
                    <div style="background: rgba(255, 255, 255, 0.9); padding: 15px; border-radius: 8px; margin-top: 20px;">
                        <p style="color: #666; margin: 0; font-style: italic;">
                            üí° This scanner checks 100+ popular stocks + high short interest stocks for this pattern
                        </p>
                    </div>
                </div>
            </div>
            
            <div style="text-align: center;">
                <button class="scan-button">üìä SCAN ALL PATTERNS üéØ</button>
            </div>
            
            <div style="background: linear-gradient(135deg, #ff6b9d, #ff4d7d); color: white; padding: 20px; border-radius: 15px; margin-top: 30px;">
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                    <span style="font-size: 1.5em;">‚ö†Ô∏è</span>
                    <strong style="font-size: 1.1em;">IMPORTANT DISCLAIMER</strong>
                </div>
                <p style="line-height: 1.6; opacity: 0.95; margin: 0;">
                    Technical patterns are educational tools, not guarantees. Markets are unpredictable and pattern failures are common. Always use proper risk management, set stop losses, and never risk more than you can afford to lose. This is NOT financial advice!
                </p>
            </div>
        </div>
        
        <!-- Hourly Tab -->
        <div id="hourly" class="tab-content">
            <div style="background: linear-gradient(135deg, #2d3748, #1a202c); padding: 30px; border-radius: 15px; margin-bottom: 25px; box-shadow: 0 4px 15px var(--shadow);">
                <h2 style="color: #FFA500; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    ‚è∞ The 3-1 Strat Pattern (Hourly Timeframe)
                </h2>
                <div style="background: rgba(255, 255, 255, 0.1); padding: 25px; border-radius: 10px; backdrop-filter: blur(10px); color: white;">
                    <ul style="list-style: none; padding: 0; margin: 0; line-height: 2.2;">
                        <li style="margin-bottom: 15px;">‚Ä¢ <strong>"3" = Outside Bar:</strong> Higher high + lower low than previous hour (expansion)</li>
                        <li style="margin-bottom: 15px;">‚Ä¢ <strong>"1" = Inside Bar:</strong> Lower high + higher low than previous hour (consolidation)</li>
                        <li style="margin-bottom: 15px;">‚Ä¢ <strong>Setup:</strong> Hourly patterns signal potential intraday moves</li>
                    </ul>
                    <div style="background: rgba(255, 255, 255, 0.9); padding: 15px; border-radius: 8px; margin-top: 20px;">
                        <p style="color: #666; margin: 0; font-style: italic;">
                            ‚è∞ Hourly scans are perfect for day trading - catch quick moves!
                        </p>
                    </div>
                </div>
            </div>
            
            <div style="text-align: center;">
                <button class="scan-button">‚è∞ SCAN HOURLY PATTERNS üéØ</button>
            </div>
            
            <div style="background: linear-gradient(135deg, #ff6b9d, #ff4d7d); color: white; padding: 20px; border-radius: 15px; margin-top: 30px;">
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                    <span style="font-size: 1.5em;">‚ö†Ô∏è</span>
                    <strong style="font-size: 1.1em;">IMPORTANT DISCLAIMER</strong>
                </div>
                <p style="line-height: 1.6; opacity: 0.95; margin: 0;">
                    Hourly patterns are for active traders. Intraday moves can be volatile and unpredictable. Always use proper risk management, set stop losses, and never risk more than you can afford to lose. This is NOT financial advice!
                </p>
            </div>
        </div>
        
        <!-- Weekly Tab -->
        <div id="weekly" class="tab-content">
            <div style="background: linear-gradient(135deg, #2d3748, #1a202c); padding: 30px; border-radius: 15px; margin-bottom: 25px; box-shadow: 0 4px 15px var(--shadow);">
                <h2 style="color: #FFA500; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    üìä The 3-1 Strat Pattern (Weekly Timeframe)
                </h2>
                <div style="background: rgba(255, 255, 255, 0.1); padding: 25px; border-radius: 10px; backdrop-filter: blur(10px); color: white;">
                    <ul style="list-style: none; padding: 0; margin: 0; line-height: 2.2;">
                        <li style="margin-bottom: 15px;">‚Ä¢ <strong>"3" = Outside Bar:</strong> Higher high + lower low than previous week (expansion)</li>
                        <li style="margin-bottom: 15px;">‚Ä¢ <strong>"1" = Inside Bar:</strong> Lower high + higher low than previous week (consolidation)</li>
                        <li style="margin-bottom: 15px;">‚Ä¢ <strong>Setup:</strong> Weekly patterns signal potential multi-day/week moves</li>
                    </ul>
                    <div style="background: rgba(255, 255, 255, 0.9); padding: 15px; border-radius: 8px; margin-top: 20px;">
                        <p style="color: #666; margin: 0; font-style: italic;">
                            üí° Weekly setups look for larger timeframe setups. These are longer moves!
                        </p>
                    </div>
                </div>
            </div>
            
            <div style="text-align: center;">
                <button class="scan-button">üìä SCAN WEEKLY PATTERNS üéØ</button>
            </div>
            
            <div style="background: linear-gradient(135deg, #ff6b9d, #ff4d7d); color: white; padding: 20px; border-radius: 15px; margin-top: 30px;">
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                    <span style="font-size: 1.5em;">‚ö†Ô∏è</span>
                    <strong style="font-size: 1.1em;">IMPORTANT DISCLAIMER</strong>
                </div>
                <p style="line-height: 1.6; opacity: 0.95; margin: 0;">
                    Technical patterns are educational tools, not guarantees. Weekly patterns suggest larger moves but markets are unpredictable. Always use proper risk management, set stop losses, and never risk more than you can afford to lose. This is NOT financial advice!
                </p>
            </div>
        </div>
        
        <!-- Volemon Tab -->
        <div id="volemon" class="tab-content">
            <div style="text-align: center;">
                <h2 style="color: #FFA500; margin-bottom: 15px;">üìä Volemon - Live Volume Spike Scanner</h2>
                <p style="color: var(--text-secondary); margin-bottom: 20px;">
                    Scanning for extreme volume spikes in real-time ‚Ä¢ Auto-refreshes every 15 minutes
                </p>
                
                <div class="refresh-timer">
                    <span class="timer-icon">üîÑ</span>
                    <div>
                        <div style="font-size: 0.9em;">Next scan in: <span id="countdown">15:00</span></div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                    </div>
                    <button onclick="manualRefresh()" style="background: #10b981; color: white; border: none; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-weight: bold;">Scan Now</button>
                </div>
            </div>
            
            <div class="loading" id="volemonLoading">
                <div class="spinner"></div>
                <p style="font-size: 1.2em; color: var(--text-secondary); font-weight: 600;">Scanning for volume spikes...</p>
            </div>
            
            <div class="results" id="volemonResults"></div>
        </div>
        
        <!-- Crypto Tab -->
        <div id="crypto" class="tab-content">
            <div style="background: linear-gradient(135deg, #2d3748, #1a202c); padding: 30px; border-radius: 15px; margin-bottom: 25px; box-shadow: 0 4px 15px var(--shadow);">
                <h2 style="color: #FFA500; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    ‚Çø Crypto 3-1 Strat Scanner
                </h2>
                <div style="background: rgba(255, 255, 255, 0.1); padding: 25px; border-radius: 10px; backdrop-filter: blur(10px); color: white;">
                    <p style="margin-bottom: 15px; font-weight: 600; font-size: 1.05em;">
                        <strong>Scanning:</strong> BTC, ETH, XRP, SOL, DOGE, HYPE
                    </p>
                    <ul style="list-style: none; padding: 0; margin: 0; line-height: 2.2;">
                        <li style="margin-bottom: 15px;">‚Ä¢ <strong>Multi-Timeframe:</strong> Checks hourly, daily, AND weekly patterns</li>
                        <li style="margin-bottom: 15px;">‚Ä¢ <strong>Crypto-Specific:</strong> 24/7 markets with unique volatility</li>
                        <li style="margin-bottom: 15px;">‚Ä¢ <strong>Quick Signals:</strong> Find patterns across all major cryptos instantly</li>
                    </ul>
                    <div style="background: rgba(255, 255, 255, 0.9); padding: 15px; border-radius: 8px; margin-top: 20px;">
                        <p style="color: #666; margin: 0; font-style: italic;">
                            ‚Çø Crypto patterns can signal explosive moves - trade with caution!
                        </p>
                    </div>
                </div>
            </div>
            
            <div style="text-align: center;">
                <button class="scan-button">‚Çø SCAN CRYPTO PATTERNS üöÄ</button>
            </div>
            
            <div style="background: linear-gradient(135deg, #ff6b9d, #ff4d7d); color: white; padding: 20px; border-radius: 15px; margin-top: 30px;">
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                    <span style="font-size: 1.5em;">‚ö†Ô∏è</span>
                    <strong style="font-size: 1.1em;">IMPORTANT DISCLAIMER</strong>
                </div>
                <p style="line-height: 1.6; opacity: 0.95; margin: 0;">
                    Cryptocurrency trading is extremely high-risk and volatile. Prices can swing dramatically in minutes. Never invest more than you can afford to lose. This is NOT financial advice!
                </p>
            </div>
        </div>
    </div>
    
    <script>
        function toggleDarkMode() {
            const body = document.body;
            const theme = body.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
            body.setAttribute('data-theme', theme);
            document.querySelector('.theme-icon').textContent = theme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
            document.querySelector('.theme-text').textContent = theme === 'dark' ? 'Light Mode' : 'Dark Mode';
        }
        
        document.querySelectorAll('.tab-button').forEach(btn => {
            btn.addEventListener('click', () => {
                const tab = btn.getAttribute('data-tab');
                document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                btn.classList.add('active');
                document.getElementById(tab).classList.add('active');
                
                if (tab === 'volemon') {
                    startAutoRefresh();
                    if (!document.getElementById('volemonResults').innerHTML) scanVolemon();
                } else {
                    stopAutoRefresh();
                }
            });
        });
        
        let countdown, timeLeft = 900;
        
        function startAutoRefresh() {
            if (!countdown) countdown = setInterval(() => {
                timeLeft--;
                if (timeLeft <= 0) { timeLeft = 900; scanVolemon(); }
                const mins = Math.floor(timeLeft/60);
                const secs = timeLeft % 60;
                document.getElementById('countdown').textContent = `${mins}:${secs.toString().padStart(2,'0')}`;
                document.getElementById('progressFill').style.width = ((900-timeLeft)/900*100) + '%';
            }, 1000);
        }
        
        function stopAutoRefresh() {
            if (countdown) { clearInterval(countdown); countdown = null; }
        }
        
        function manualRefresh() {
            timeLeft = 900;
            document.getElementById('countdown').textContent = '15:00';
            document.getElementById('progressFill').style.width = '0%';
            scanVolemon();
        }
        
        async function scanVolemon() {
            document.getElementById('volemonLoading').classList.add('active');
            document.getElementById('volemonResults').classList.remove('active');
            
            try {
                const tickersToScan = [
                    'AAPL', 'TSLA', 'NVDA', 'AMD', 'MSFT', 'GOOGL', 'META', 'AMZN', 'NFLX', 'DIS',
                    'BA', 'COIN', 'PLTR', 'SOFI', 'RIVN', 'LCID', 'NIO', 'BABA', 'WOLF', 'SMCI',
                    'MARA', 'RIOT', 'HOOD', 'SQ', 'PYPL', 'SHOP', 'SPOT', 'UBER', 'LYFT', 'ABNB',
                    'RBLX', 'U', 'SNAP', 'TWLO', 'ZM', 'DOCN', 'NET', 'DDOG', 'CRWD', 'S',
                    'SNOW', 'AI', 'C3AI', 'IONQ', 'RGTI', 'QUBT', 'GME', 'AMC', 'BBBY', 'BB'
                ];
                
                const stocksWithVolSpikes = [];
                
                for (const ticker of tickersToScan) {
                    try {
                        const data = await fetchYahooData(ticker);
                        if (data && data.volumeRatio >= 1.5) {
                            stocksWithVolSpikes.push(data);
                        }
                    } catch (err) {
                        console.log(`Error fetching ${ticker}:`, err.message);
                    }
                }
                
                stocksWithVolSpikes.sort((a, b) => b.volumeRatio - a.volumeRatio);
                const topStocks = stocksWithVolSpikes.slice(0, 10);
                
                if (topStocks.length > 0) {
                    displayResults(topStocks);
                } else {
                    displayNoResults();
                }
                
            } catch (error) {
                console.error('Scan error:', error);
                displayNoResults();
            } finally {
                document.getElementById('volemonLoading').classList.remove('active');
            }
        }
        
        async function fetchYahooData(ticker) {
            const quoteUrl = `https://query1.finance.yahoo.com/v8/finance/chart/${ticker}?interval=1d&range=5d`;
            const response = await fetch(quoteUrl);
            if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
            
            const json = await response.json();
            const result = json.chart.result[0];
            if (!result) throw new Error('No data returned');
            
            const meta = result.meta;
            const quote = result.indicators.quote[0];
            
            const volumes = quote.volume.filter(v => v != null);
            const closes = quote.close.filter(c => c != null);
            
            if (volumes.length < 2) throw new Error('Insufficient volume data');
            
            const currentVolume = volumes[volumes.length - 1];
            const avgVolume = volumes.slice(0, -1).reduce((a, b) => a + b, 0) / (volumes.length - 1);
            const volumeRatio = currentVolume / avgVolume;
            
            const currentPrice = meta.regularMarketPrice || closes[closes.length - 1];
            const previousClose = meta.previousClose || closes[closes.length - 2];
            const change = ((currentPrice - previousClose) / previousClose) * 100;
            
            return {
                ticker: ticker,
                company: meta.longName || meta.shortName || ticker,
                currentPrice: currentPrice,
                change: change,
                volume: currentVolume,
                avgVolume: Math.round(avgVolume),
                volumeRatio: volumeRatio,
                marketCap: meta.marketCap || 0,
                news: await fetchTopNews(ticker)
            };
        }
        
        async function fetchTopNews(ticker) {
            try {
                const newsUrl = `https://query1.finance.yahoo.com/v1/finance/search?q=${ticker}&quotesCount=0&newsCount=1`;
                const response = await fetch(newsUrl);
                const json = await response.json();
                
                if (json.news && json.news.length > 0) {
                    const article = json.news[0];
                    return {
                        title: article.title,
                        snippet: article.summary || 'No summary available',
                        source: article.publisher || 'Yahoo Finance',
                        time: getTimeAgo(article.providerPublishTime),
                        url: article.link || '#'
                    };
                }
            } catch (err) {
                console.log('News fetch error:', err);
            }
            
            return {
                title: 'Recent trading activity shows increased volume',
                snippet: `${ticker} is experiencing higher than average trading volume today.`,
                source: 'Market Data',
                time: 'Recent',
                url: `https://finance.yahoo.com/quote/${ticker}`
            };
        }
        
        function getTimeAgo(timestamp) {
            if (!timestamp) return 'Recent';
            const seconds = Math.floor(Date.now() / 1000 - timestamp);
            if (seconds < 3600) return `${Math.floor(seconds / 60)} minutes ago`;
            if (seconds < 86400) return `${Math.floor(seconds / 3600)} hours ago`;
            return `${Math.floor(seconds / 86400)} days ago`;
        }
        
        function displayNoResults() {
            const div = document.getElementById('volemonResults');
            div.classList.add('active');
            div.innerHTML = `
                <div class="no-results">
                    <h3>üìä Scanning Complete</h3>
                    <p style="color: var(--text-secondary); font-size: 1.2em; margin-top: 15px;">
                        No significant volume spikes detected in current scan.
                    </p>
                    <p style="color: var(--text-secondary); margin-top: 10px;">
                        Scanner will automatically check again in 15 minutes...
                    </p>
                </div>
            `;
        }
        
        function displayResults(stocks) {
            const div = document.getElementById('volemonResults');
            div.classList.add('active');
            
            let html = `
                <div class="results-header">
                    <h2>üî• Top 10 Trending Volume Stocks</h2>
                    <p style="font-size: 1.2em; color: var(--text-secondary); margin: 10px 0;">Last updated: ${new Date().toLocaleTimeString()}</p>
                    <div class="summary-stats">
                        <div class="stat"><span class="stat-value">${stocks.length}</span><span class="stat-label">Trending Stocks</span></div>
                        <div class="stat"><span class="stat-value">${(stocks.reduce((s,x)=>s+x.volumeRatio,0)/stocks.length).toFixed(1)}x</span><span class="stat-label">Avg Volume Spike</span></div>
                        <div class="stat"><span class="stat-value">${stocks.filter(s=>s.volumeRatio>=2.0).length}</span><span class="stat-label">Major Spikes (2x+)</span></div>
                    </div>
                </div>`;
            
            stocks.forEach((s,i) => {
                html += `
                    <div class="volume-card">
                        <div class="volume-spike-badge">üî• ${s.volumeRatio.toFixed(1)}x Volume</div>
                        <div class="stock-header">
                            <div class="stock-title-row">
                                <button class="favorite-btn" onclick="alert('Added ${s.ticker}!')">‚≠ê</button>
                                <div class="stock-ticker">#${i+1}. ${s.ticker}</div>
                            </div>
                            <div style="text-align: right;">
                                <div style="font-size: 1.5em; font-weight: bold; color: ${s.change>=0?'#10b981':'#ef4444'};">${s.change>=0?'+':''}${s.change.toFixed(2)}%</div>
                                <div style="font-size: 1.2em; color: var(--text-primary);">${s.currentPrice.toFixed(2)}</div>
                            </div>
                        </div>
                        <div class="stock-company">${s.company}</div>
                        <div class="metrics-grid">
                            <div class="metric-section">
                                <h4>üìä Volume Metrics</h4>
                                <div class="metric-item"><span class="metric-label">Current Volume:</span><span class="metric-value">${s.volume.toLocaleString()}</span></div>
                                <div class="metric-item"><span class="metric-label">Avg Volume:</span><span class="metric-value">${s.avgVolume.toLocaleString()}</span></div>
                                <div class="metric-item"><span class="metric-label">Volume Ratio:</span><span class="metric-value" style="color: #ef4444;">${s.volumeRatio.toFixed(2)}x üî•</span></div>
                            </div>
                            <div class="metric-section">
                                <h4>üí∞ Price Info</h4>
                                <div class="metric-item"><span class="metric-label">Current Price:</span><span class="metric-value">${s.currentPrice.toFixed(2)}</span></div>
                                <div class="metric-item"><span class="metric-label">Change:</span><span class="metric-value" style="color: ${s.change>=0?'#10b981':'#ef4444'};">${s.change>=0?'+':''}${s.change.toFixed(2)}%</span></div>
                                <div class="metric-item"><span class="metric-label">Market Cap:</span><span class="metric-value">${(s.marketCap/1000000).toFixed(0)}M</span></div>
                            </div>
                        </div>
                        <div class="news-section">
                            <div class="news-header">üì∞ Top Related News</div>
                            <div class="news-content">
                                <div class="news-title">${s.news.title}</div>
                                <div class="news-snippet">${s.news.snippet}</div>
                                <div class="news-meta">
                                    <span>${s.news.source} ‚Ä¢ ${s.news.time}</span>
                                    <a href="${s.news.url}" target="_blank" class="news-link">Read More ‚Üí</a>
                                </div>
                            </div>
                        </div>
                    </div>`;
            });
            
            div.innerHTML = html;
        }
    </script>
</body>
</html>
